<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Szögfüggvények feladat</title>
</head>
<body>
    <div id="megjelenit"></div>



    <button onclick="szogfuggvenyekBetolt()">Betölt</button>

    <script>

        let haromszog = [];

        function szogfuggvenyekBetolt()
        {
            const megjelenit = document.getElementById("megjelenit");
            megjelenit.innerHTML = "";

            const azonositok = [{adat:"a",szoveg:"a oldal"},{adat:"b",szoveg:"b oldal"},{adat:"c",szoveg:"c oldal"},{adat:"alfa",szoveg:"Alfa szög"},
            {adat:"beta",szoveg:"Béta szög"},{adat:"gamma",szoveg:"Gamma szög"}];

            
            let kep = document.createElement("img")
            kep.src = "harom.png"
            kep.style.width = "20%"
            kep.style.height = "20%"
            megjelenit.appendChild(kep)

            let sortor = document.createElement("br")
            megjelenit.appendChild(sortor)

            azonositok.forEach(e => {
                let input = document.createElement("input")
                input.id = e.adat;
                input.placeholder = e.szoveg;
                megjelenit.appendChild(input)
                let sortor = document.createElement("br")
                megjelenit.appendChild(sortor)
            })

            const gomb = document.createElement("button");
            gomb.onclick = szogfuggvenyek;
            gomb.innerHTML = "Kiszámol"
            megjelenit.appendChild(gomb);

            sortor = document.createElement("br")
            megjelenit.appendChild(sortor)

            const span = document.createElement("span");
            span.id = "valasz"
            megjelenit.appendChild(span);

        }

        function szogfuggvenyek()
        {
            let lehetHaromszog = false
            const valasz = document.getElementById("valasz")
            valasz.innerHTML = ""
            haromszog = {};
            const a = document.getElementById("a").value
            const b = document.getElementById("b").value
            const c = document.getElementById("c").value
            const alfa = document.getElementById("alfa").value
            const beta = document.getElementById("beta").value
            const gamma = document.getElementById("gamma").value

            haromszog = {a:parseFloat(a),
                b:parseFloat(b),
                c:parseFloat(c),
                alfa:parseFloat(alfa),
                beta:parseFloat(beta),
                gamma:parseFloat(gamma)
            };
            
            console.log(haromszog)


            if(Object.values(haromszog).every(e => isNaN(e)))
            {
                valasz.innerHTML = "Nem számolható ki adat!";
                return false;
            }

            if(Object.values(haromszog).filter(e => isNaN(e)).length == 5)
            {
                valasz.innerHTML = "Nem számolható ki adat!";
                return false;
            }



            //Három oldal
            if(!isNaN(haromszog.a)&& !isNaN(haromszog.b) && !isNaN(haromszog.c))
            {
                if((haromszog.a+haromszog.b > haromszog.c && haromszog.c >= haromszog.b && haromszog.c >= haromszog.a)||
                (haromszog.b+haromszog.c > haromszog.a && haromszog.a >= haromszog.b && haromszog.a >= haromszog.c) ||
                (haromszog.a + haromszog.c > haromszog.b && haromszog.b >= haromszog.c && haromszog.b >= haromszog.a))
                {
                    lehetHaromszog = true;
                    valasz.innerHTML = "Lehet háromszög!";
                }
                /*else if(haromszog[0] == haromszog[1] && haromszog[0]== haromszog[2])
                {
                    leheteHaromszog = true;
                    valasz.innerHTML = "Lehet háromszög!\nAlfa = 60°\nBéta = 60°\nGamma = 60°"
                }*/
                else
                {
                    lehetHaromszog = false;
                    valasz.innerHTML = "Nem lehet ilyen háromszög!";
                    return false;
                }

                if(haromszog.a == haromszog.b && haromszog.b == haromszog.c)
                {
                    valasz.innerHTML = "Alfa: 60 fok\nBéta: 60 fok\nGamma: 60 fok";
                }

                //c2+a2+b2/-2ab  =  cos gamma
                //cos gamma = a2+b2 - 2ab * cos gamma
                //c2 = a2+b2 - 2ab * cos gamma


                let gamma = Math.acos((haromszog.c**2-haromszog.a**2-haromszog.b**2) / (-2*haromszog.a*haromszog.b));
                let beta = Math.acos((haromszog.b**2-haromszog.a**2-haromszog.c**2) / (-2*haromszog.a*haromszog.c));
                let alfa = Math.acos((haromszog.a**2-haromszog.b**2-haromszog.c**2) / (-2*haromszog.b*haromszog.c));

                console.log(alfa,beta,gamma)




            }


            


            
        }

        


    </script>
</body>
</html>