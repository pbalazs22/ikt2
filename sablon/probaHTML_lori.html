<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Szögfüggvények feladat</title>
</head>
<body>
    <div id="megjelenit"></div>



    <button onclick="szogfuggvenyekBetolt()">Betölt</button>

    <script>


        function szogfuggvenyekBetolt()
        {
            const megjelenit = document.getElementById("megjelenit");
            megjelenit.innerHTML = "";

            const azonositok = [{adat:"a",szoveg:"a oldal"},{adat:"b",szoveg:"b oldal"},{adat:"c",szoveg:"c oldal"},{adat:"alfa",szoveg:"Alfa szög"},
            {adat:"beta",szoveg:"Béta szög"},{adat:"gamma",szoveg:"Gamma szög"}];

            
            let kep = document.createElement("img")
            kep.src = "harom.png"
            kep.style.width = "20%"
            kep.style.height = "20%"
            megjelenit.appendChild(kep)

            let sortor = document.createElement("br")
            megjelenit.appendChild(sortor)

            azonositok.forEach(e => {
                let input = document.createElement("input")
                input.id = e.adat;
                input.placeholder = e.szoveg;
                megjelenit.appendChild(input)
                let sortor = document.createElement("br")
                megjelenit.appendChild(sortor)
            })

            const gomb = document.createElement("button");
            gomb.onclick = szogfuggvenyek;
            gomb.innerHTML = "Kiszámol"
            megjelenit.appendChild(gomb);

            sortor = document.createElement("br")
            megjelenit.appendChild(sortor)

            const span = document.createElement("span");
            span.id = "valasz"
            megjelenit.appendChild(span);

        }

        function szogfuggvenyek()
        {
            let lehetHaromszog = false
            const valasz = document.getElementById("valasz")
            valasz.innerHTML = ""
            haromszog = {};
            const a = document.getElementById("a").value
            const b = document.getElementById("b").value
            const c = document.getElementById("c").value
            const alfa = document.getElementById("alfa").value
            const beta = document.getElementById("beta").value
            const gamma = document.getElementById("gamma").value

            haromszog = {a:parseFloat(a),
                b:parseFloat(b),
                c:parseFloat(c),
                alfa:parseFloat(alfa),
                beta:parseFloat(beta),
                gamma:parseFloat(gamma)
            };
            
            console.log(haromszog)


            //Nincs adat megadva
            if(Object.values(haromszog).every(e => isNaN(e)))
            {
                valasz.innerHTML = "Nem számolható ki adat!";
                return false;
            }


            //Egy adat van megadva
            if(Object.values(haromszog).filter(e => isNaN(e)).length == 5)
            {
                valasz.innerHTML = "Nem számolható ki adat!";
                return false;
            }



            //Három oldal
            if(!isNaN(haromszog.a)&& !isNaN(haromszog.b) && !isNaN(haromszog.c))
            {
                if((haromszog.a+haromszog.b > haromszog.c && haromszog.c >= haromszog.b && haromszog.c >= haromszog.a)||
                (haromszog.b+haromszog.c > haromszog.a && haromszog.a >= haromszog.b && haromszog.a >= haromszog.c) ||
                (haromszog.a + haromszog.c > haromszog.b && haromszog.b >= haromszog.c && haromszog.b >= haromszog.a))
                {
                    lehetHaromszog = true;
                    valasz.innerHTML = "Lehet háromszög!";
                }
                /*else if(haromszog[0] == haromszog[1] && haromszog[0]== haromszog[2])
                {
                    leheteHaromszog = true;
                    valasz.innerHTML = "Lehet háromszög!\nAlfa = 60°\nBéta = 60°\nGamma = 60°"
                }*/
                else
                {
                    lehetHaromszog = false;
                    valasz.innerHTML = "Nem lehet ilyen háromszög!";
                    return false;
                }

                if(haromszog.a == haromszog.b && haromszog.b == haromszog.c)
                {
                    valasz.innerHTML = "Alfa: 60°\nBéta: 60°\nGamma: 60°";
                }

                //c2+a2+b2/-2ab  =  cos gamma
                //cos gamma = a2+b2 - 2ab * cos gamma
                //c2 = a2+b2 - 2ab * cos gamma


                let gamma = Math.acos((haromszog.c**2-haromszog.a**2-haromszog.b**2) / (-2*haromszog.a*haromszog.b));
                let beta = Math.acos((haromszog.b**2-haromszog.a**2-haromszog.c**2) / (-2*haromszog.a*haromszog.c));
                let alfa = Math.acos((haromszog.a**2-haromszog.b**2-haromszog.c**2) / (-2*haromszog.b*haromszog.c));

                let alfaFok = Math.floor(alfa*(180/Math.PI))
                let betaFok = Math.floor(beta*(180/Math.PI))
                let gammaFok = Math.floor(gamma*(180/Math.PI))

                valasz.innerHTML += "\nAlfa: "+alfaFok+"° \nBéta: "+betaFok+"° \nGamma: "+gammaFok+"° ";


            }

            //Két szög
            if(!isNaN(haromszog.alfa) && !isNaN(haromszog.beta))
            {
                console.log(haromszog.alfa,haromszog.beta)

                console.log(180.0-(haromszog.alfa+haromszog.beta))
                valasz.innerHTML = `Gamma: ${180.0-(haromszog.alfa+haromszog.beta)}°`;
                console.log("Helló")
            }
            else if(!isNaN(haromszog.beta) && !isNaN(haromszog.gamma))
            {
                valasz.innerHTML = `Alfa: ${180.0-(haromszog.beta+haromszog.gamma)}°`;
            }
            else if(!isNaN(haromszog.alfa) && !isNaN(haromszog.gamma))
            {
                valasz.innerHTML = `Béta: ${180.0-(haromszog.alfa+haromszog.gamma)}°`;
            }
            
            //Három oldal egy szög
            //cos(alfa)= a²-b²-c²/(-2ab)
            if(lehetHaromszog && !isNaN(haromszog.alfa))
            {
                if(Math.round(Math.cos(haromszog.alfa*(Math.PI/180)),2) == Math.round((haromszog.a**2-haromszog.b**2-haromszog.c**2) / (-2*(haromszog.a*haromszog.b)),2))
                {
                    valasz.innerHTML = "Lehet háromszög!\n"

                    let gamma = Math.acos((haromszog.c**2-haromszog.a**2-haromszog.b**2) / (-2*haromszog.a*haromszog.b));
                    let beta = Math.acos((haromszog.b**2-haromszog.a**2-haromszog.c**2) / (-2*haromszog.a*haromszog.c));

                    let betaFok = Math.floor(beta*(180/Math.PI))
                    let gammaFok = Math.floor(gamma*(180/Math.PI))
                    
                    valasz.innerHTML += "Béta: "+betaFok+"°\nGamma: "+gammaFok+"°";

                }
                else
                {
                    let gamma = Math.acos((haromszog.c**2-haromszog.a**2-haromszog.b**2) / (-2*haromszog.a*haromszog.b));
                    let beta = Math.acos((haromszog.b**2-haromszog.a**2-haromszog.c**2) / (-2*haromszog.a*haromszog.c));
                    let alfa = Math.acos((haromszog.a**2-haromszog.b**2-haromszog.c**2) / (-2*haromszog.b*haromszog.c));

                    let alfaFok = Math.floor(alfa*(180/Math.PI))
                    let betaFok = Math.floor(beta*(180/Math.PI))
                    let gammaFok = Math.floor(gamma*(180/Math.PI))
                    
                    console.log(Math.round(Math.cos(haromszog.alfa*(Math.PI/180)),2),(haromszog.a**2.0-haromszog.b**2.0-haromszog.c**2.0) / (-2.0*(haromszog.a*haromszog.b)))
                
                    valasz.innerHTML = "Nem lehet ilyen alfa szöggel háromszög!\n"
                    valasz.innerHTML += "A háromszög helyes adatai a három oldalból számítva:\nAlfa: "+alfaFok+"°\nBéta: "+betaFok+"°\nGamma: "+gammaFok+"°";

            }
        
        }

        //Három oldal két szög
        //cos(alfa)= a²-b²-c²/(-2ab)
            if(lehetHaromszog && !isNaN(haromszog.alfa) && !isNaN(haromszog.beta))
            {
                if(Math.round(Math.cos(haromszog.alfa*(Math.PI/180)),2) == Math.round((haromszog.a**2-haromszog.b**2-haromszog.c**2) / (-2*(haromszog.a*haromszog.b)),2)&&
                Math.round(Math.cos(haromszog.beta*(Math.PI/180)),2) == Math.round((haromszog.a**2-haromszog.b**2-haromszog.c**2) / (-2*(haromszog.a*haromszog.b)),2))
                {
                    valasz.innerHTML = "Lehet háromszög!\n"

                    let gamma = Math.acos((haromszog.c**2-haromszog.a**2-haromszog.b**2) / (-2*haromszog.a*haromszog.b));

                    let gammaFok = Math.floor(gamma*(180/Math.PI))
                    
                    valasz.innerHTML += "Gamma: "+gammaFok+"°";

                }
                else
                {
                    let gamma = Math.acos((haromszog.c**2-haromszog.a**2-haromszog.b**2) / (-2*haromszog.a*haromszog.b));
                    let beta = Math.acos((haromszog.b**2-haromszog.a**2-haromszog.c**2) / (-2*haromszog.a*haromszog.c));
                    let alfa = Math.acos((haromszog.a**2-haromszog.b**2-haromszog.c**2) / (-2*haromszog.b*haromszog.c));

                    let alfaFok = Math.floor(alfa*(180/Math.PI))
                    let betaFok = Math.floor(beta*(180/Math.PI))
                    let gammaFok = Math.floor(gamma*(180/Math.PI))
                    
                    console.log(Math.round(Math.cos(haromszog.alfa*(Math.PI/180)),2),(haromszog.a**2.0-haromszog.b**2.0-haromszog.c**2.0) / (-2.0*(haromszog.a*haromszog.b)))
                
                    valasz.innerHTML = "Nem lehet ilyen alfa szöggel háromszög!\n"
                    valasz.innerHTML += "A háromszög helyes adatai a három oldalból számítva:\nAlfa: "+alfaFok+"°\nBéta: "+betaFok+"°\nGamma: "+gammaFok+"°";

            }
        
        }
        //Három oldal három szög
        if(lehetHaromszog && !isNaN(haromszog.alfa) && !isNaN(haromszog.beta))
            {
                if(Math.round(Math.cos(haromszog.alfa*(Math.PI/180)),2) == Math.round((haromszog.a**2-haromszog.b**2-haromszog.c**2) / (-2*(haromszog.a*haromszog.b)),2)&&
                Math.round(Math.cos(haromszog.beta*(Math.PI/180)),2) == Math.round((haromszog.a**2-haromszog.b**2-haromszog.c**2) / (-2*(haromszog.a*haromszog.b)),2)&&
                Math.round(Math.cos(haromszog.gamma*(Math.PI/180)),2) == Math.round((haromszog.a**2-haromszog.b**2-haromszog.c**2) / (-2*(haromszog.a*haromszog.b)),2))
                {
                    valasz.innerHTML = "Lehet ezekkel a szögekkel háromszög!\n"

                }
                else
                {
                    let gamma = Math.acos((haromszog.c**2-haromszog.a**2-haromszog.b**2) / (-2*haromszog.a*haromszog.b));
                    let beta = Math.acos((haromszog.b**2-haromszog.a**2-haromszog.c**2) / (-2*haromszog.a*haromszog.c));
                    let alfa = Math.acos((haromszog.a**2-haromszog.b**2-haromszog.c**2) / (-2*haromszog.b*haromszog.c));

                    let alfaFok = Math.floor(alfa*(180/Math.PI))
                    let betaFok = Math.floor(beta*(180/Math.PI))
                    let gammaFok = Math.floor(gamma*(180/Math.PI))
                    
                    console.log(Math.round(Math.cos(haromszog.alfa*(Math.PI/180)),2),(haromszog.a**2.0-haromszog.b**2.0-haromszog.c**2.0) / (-2.0*(haromszog.a*haromszog.b)))
                
                    valasz.innerHTML = "Nem lehet ilyen szöggekkel háromszög!\n"
                    valasz.innerHTML += "A háromszög helyes adatai a három oldalból számítva:\nAlfa: "+alfaFok+"°\nBéta: "+betaFok+"°\nGamma: "+gammaFok+"°";

            }
        
        }

        if(!isNaN(haromszog.a) && !isNaN(haromszog.b) && !isNaN(haromszog.gamma))
        {

            //c2 = a2+b2 - 2ab * cos gamma

            let c = haromszog.a**2 + haromszog.b**2 - 2*haromszog.a*haromszog.b * Math.cos(haromszog.gamma*(180/Math.PI))

            // a / sin alfa = c / sin gamma
            // a = c / sin gamma * sin alfa
            // a * sin gamma = c * sin alfa
            // a * sin gamma / c = sin alfa

            let alfa = Math.floor(Math.acos((haromszog.a*Math.sin(haromszog.gamma*(180/Math.PI))) / c)*(180/Math.PI));

            // b / sin beta = c / sin gamma
            // b = c / sin gamma * sin beta
            // b * sin gamma = c * sin beta
            // b * sin gamma / c = sin beta

            let beta = Math.floor(Math.acos((haromszog.b*Math.sin(haromszog.gamma*(180/Math.PI))) / c)*(180/Math.PI));


        }

        if(!isNaN(haromszog.b) && !isNaN(haromszog.c) && !isNaN(haromszog.alfa))
        {

            //c2 = a2+b2 - 2ab * cos gamma

            let a = haromszog.b**2 + haromszog.c**2 - 2*haromszog.b*haromszog.c * (Math.cos(haromszog.alfa*(Math.PI/180))*(180/Math.PI))


            let gamma = Math.floor(Math.acos((haromszog.c*Math.sin(haromszog.alfa*(Math.PI/180))) / a)*(180/Math.PI));


            let beta = Math.floor(Math.acos((haromszog.b*Math.sin(haromszog.alfa*(Math.PI/180))) / a)*(180/Math.PI));

            valasz.innerHTML = "a oldal: "+a+"\nBéta: "+beta+"°\nGamma: "+gamma+"°";
        }

        if(!isNaN(haromszog.a) && !isNaN(haromszog.c) && !isNaN(haromszog.beta))
        {

            //c2 = a2+b2 - 2ab * cos gamma

            let b = (haromszog.a**2 + haromszog.b**2 - 2*haromszog.a*haromszog.b) * Math.cos(haromszog.beta*(180/Math.PI))


            let alfa = Math.acos((haromszog.c*Math.sin(haromszog.beta*(Math.PI/180))) / b)*(180/Math.PI);


            let beta = Math.floor(Math.acos((haromszog.b*Math.sin(haromszog.beta*(Math.PI/180))) / b)*(180/Math.PI));

            valasz.innerHTML = "b oldal: "+b+"\nAlfa: "+alfa+"°\nBéta: "+beta+"°";
        }



            
        }




    </script>
</body>
</html>